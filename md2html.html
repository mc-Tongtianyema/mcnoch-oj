<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Markdown 到 HTML 转换器</title>
    <style>
        body {
            font-family: Arial， sans-serif;
            margin: 20px;
        }
        #markdown-editor, #html-output {
            width: 100%;
            height: 300px;
            margin-top: 10px;
        }
        #markdown-editor {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 20px;
        }
        #html-output {
            border: 1px solid #ccc;
            padding: 10px;
            overflow-y: auto;
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <h1>Markdown 到 HTML 转换器</h1>
    <textarea id="markdown-editor" placeholder="在这里输入Markdown内容..."></textarea>
    <div id="html-output"></div>

    <script>
        const markdownEditor = document.getElementById('markdown-editor');
        const htmlOutput = document.getElementById('html-output');

        markdownEditor.addEventListener('input', function() {
            const markdownContent = markdownEditor.value;
            const htmlContent = convertMarkdownToHTML(markdownContent);
            htmlOutput.innerHTML = htmlContent;
        });

        function convertMarkdownToHTML(markdown) {
            // 转换标题
            let html = markdown.replace(/^# (.+)$/gm, '<h1>$1</h1>');
            html = html.replace(/^## (.+)$/gm, '<h2>$2</h2>');
            html = html.replace(/^### (.+)$/gm, '<h3>$3</h3>');
            html = html.replace(/^#### (.+)$/gm, '<h4>$4</h4>');
            html = html.replace(/^##### (.+)$/gm, '<h5>$5</h5>');
            html = html.replace(/^###### (.+)$/gm, '<h6>$6</h6>');

            // 转换段落
            html = html.replace(/^(?!#|\*|\-|\d\.)(.*)$/gm, '<p>$1</p>');

            // 转换无序列表
            html = html.replace(/^\* (.+)$/gm, '<li>$1</li>');
            html = html.replace(/^- (.+)$/gm, '<li>$1</li>');
            html = html.replace(/<li>(?!<\/ul>)/g, '<ul><li>').replace(/<\/li>(?!<\/ul>)/g, '</li></ul>');

            // 转换有序列表
            html = html.replace(/^(\d+)\. (.+)$/gm, '<li>$2</li>');
            html = html.replace(/<li>(?!<\/ol>)/g, '<ol><li>').replace(/<\/li>(?!<\/ol>)/g, '</li></ol>');

            // 转换链接
            html = html.replace(/\[(.*?)\]\((.*?)\)/g, '<a href="$2">$1</a>');

            // 转换粗体
            html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            html = html.replace(/__(.*?)__/g, '<strong>$1</strong>');

            // 转换斜体
            html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
            html = html.replace(/_(.*?)_/g, '<em>$1</em>');

            // 转换换行
            html = html.replace(/\n/g, '<br>');

            return html;
        }
    </script>
</body>
</html>
